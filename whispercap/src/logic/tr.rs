use once_cell::sync::OnceCell;
use std::collections::HashMap;

static CN: OnceCell<HashMap<&'static str, &'static str>> = OnceCell::new();

pub fn tr(text: &str) -> String {
    #[allow(unused_assignments)]
    let mut lang = "en".to_string();

    #[cfg(any(feature = "desktop", feature = "mobile"))]
    {
        lang = crate::config::preference().language.clone();
    }

    match lang.as_str() {
        "cn" => {
            if let Some(txt) = cn().get(text) {
                return txt.to_string();
            }
        }
        _ => (),
    }

    text.to_string()
}

fn cn() -> &'static HashMap<&'static str, &'static str> {
    CN.get_or_init(|| {
        HashMap::from([
            ("about", "关于"),
            ("About", "关于"),
            ("Account address", "账户地址"),
            ("Address", "地址"),
            ("Address book", "地址簿"),
            ("Address name", "地址名称"),
            ("Advance setting", "高级设置"),
            ("Apply", "应用"),
            ("At least 8 chars", "至少8个字符"),
            ("Back", "返回"),
            ("Base fee", "基础费用"),
            ("Blockchain network", "区块链网络"),
            ("Cancel", "取消"),
            ("Checked", "已选中"),
            ("Choose language", "选择语言"),
            ("Choose Theme", "选择主题"),
            ("close", "关闭"),
            ("Close", "关闭"),
            ("Confirm", "确认"),
            ("Copy failed", "复制失败"),
            ("Copy success", "复制成功"),
            ("Create token account fee", "创建代币账户费用"),
            ("Danger", "危险"),
            ("Dark", "暗色"),
            ("Delete", "删除"),
            ("Delete address", "删除地址"),
            ("Delete address or not?", "是否删除地址？"),
            ("Delete or not?", "是否删除？"),
            ("Disable", "禁用"),
            ("Donate", "捐赠"),
            ("Evaluating gas fee...", "估算燃气费中..."),
            ("Evaluating transaction fee failed", "估算交易费失败"),
            ("Fast", "快速"),
            ("Finished", "已完成"),
            ("Font family", "字体"),
            ("Font size", "字体大小"),
            ("Frameless window", "无边框窗口"),
            ("github", "github"),
            ("Github", "Github"),
            ("height", "高度"),
            ("Help", "帮助"),
            ("Home", "首页"),
            ("Icons", "图标"),
            ("Info", "信息"),
            ("Input can not be empty", "输入不能为空"),
            ("Jump to", "跳转到"),
            ("keyword", "关键词"),
            ("Light", "亮色"),
            ("Log in", "登录"),
            ("Loading...", "加载中..."),
            ("maximal", "最大"),
            ("Memo", "备注"),
            ("MetaMask crypto pay", "MetaMask加密支付"),
            ("minimal", "最小"),
            ("mnemonics", "助记词"),
            ("No Data", "无数据"),
            ("No Message", "无消息"),
            ("normal", "普通"),
            ("Normal", "普通"),
            ("Open link failed", "打开链接失败"),
            ("Password", "密码"),
            ("Paste failed", "粘贴失败"),
            ("Please enter new password", "请输入新密码"),
            ("Please enter old password", "请输入旧密码"),
            ("Please enter password", "请输入密码"),
            ("Please enter password again", "请再次输入密码"),
            ("Please enter username", "请输入用户名"),
            ("Please select language", "请选择语言"),
            ("Preference", "偏好设置"),
            ("Prev", "上一步"),
            ("Prioritization fee", "优先费用"),
            ("Proxy", "代理"),
            ("Proxy address", "代理地址"),
            ("Proxy port", "代理端口"),
            ("Quit application or not?", "是否退出应用？"),
            ("Reason", "原因"),
            ("Reboot to take setting effect", "重启以应用设置"),
            ("Recipient address", "收款地址"),
            ("Refreshing...", "刷新中..."),
            ("Reset password", "重置密码"),
            ("Search", "搜索"),
            ("Send address", "发送地址"),
            ("Send amount", "发送金额"),
            ("Send token", "发送代币"),
            ("setting", "设置"),
            ("Setting", "设置"),
            ("Sign in", "登录"),
            ("Skip", "跳过"),
            ("Slow", "慢速"),
            ("Success", "成功"),
            ("TokenListWithSwitch", "代币列表（带切换）"),
            ("Transaction detail", "交易详情"),
            ("Transaction failed", "交易失败"),
            ("Transaction history", "交易历史"),
            ("Transaction signature", "交易签名"),
            ("Transaction success", "交易成功"),
            ("Unchecked", "未选中"),
            ("Username", "用户名"),
            ("Waiting transaction confirmed...", "等待交易确认中..."),
            ("Warning", "警告"),
            ("Wechat pay", "微信支付"),
            ("width", "宽度"),
            ("Window always on top", "窗口置顶"),
            ("Window height", "窗口高度"),
            ("Window size", "窗口大小"),
            ("Window width", "窗口宽度"),
            ("Based on Slint-UI. Copyright 2022-2030. All rights reserved. The program is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.", "基于Slint-UI框架。版权所有©2022-2030年。本程序按『原样』提供，不附带任何形式的明示或暗示保证，包括但不限于设计适用性、适销性及特定用途适用性保证。"),
            ("Sun", "  日  "),
            ("Mon", "  一  "),
            ("Tue", "  二  "),
            ("Wed", "  三  "),
            ("Thu", "  四  "),
            ("Fri", "  五  "),
            ("Sat", "  六  "),
            ("Decrease font size", "减小字体大小"),
            ("Increase font size", "增大字体大小"),
            ("Send question", "发送问题"),
            ("Shortcuts", "快捷方式"),
            ("Tasks Count", "任务计数"),
            ("donate", "捐赠"),
            ("help", "帮助"),
            ("home", "首页"),
            ("Backup", "备份"),
            ("Backup failed", "备份失败"),
            ("Backup successfully", "备份成功"),
            ("Cache", "缓存"),
            ("Can't create tempdir", "无法创建临时目录"),
            ("Choose a backup file", "选择备份文件"),
            ("Choose a directory", "选择目录"),
            ("Choose backup file failed", "选择备份文件失败"),
            ("Choose directory failed", "选择目录失败"),
            ("Configuration", "配置"),
            ("Data", "数据"),
            ("No backup options selected", "未选择备份选项"),
            ("Restore backup file failed", "恢复备份文件失败"),
            ("Restore backup file successfully", "恢复备份文件成功"),
            ("backup", "备份"),
            ("recover", "恢复"),
            ("Remove caches failed", "清除缓存失败"),
            ("Remove caches successfully", "清除缓存成功"),
            ("Remove configuration and all datas or not?", "是否移除配置和所有数据？"),
            ("Remove configuration directory failed", "移除配置目录失败"),
            ("Remove data directory failed", "移除数据目录失败"),
            ("uninstall", "卸载"),
            ("uninstall successfully", "卸载成功"),
            ("Remove all caches or not?", "删除所有缓存吗？"),
            ("remove caches", "删除缓存"),
            ("API base URL", "API基础URL"),
            ("API key", "API密钥"),
            ("Add entry successfully", "添加条目成功"),
            ("Adjust volume", "调整音量"),
            ("Ai Correct", "AI校正"),
            ("Ai Translate", "AI翻译"),
            ("Already runing whisper transcription", "Whisper转录已在运行"),
            ("Audio", "音频"),
            ("Batch size", "批量大小"),
            ("Can't find file", "找不到文件"),
            ("Can't find modle", "找不到模型"),
            ("Can't switch to new entry. Please wait for finishing processing", "无法切换到新条目，请等待处理完成"),
            ("Cancelled adding subtitle", "已取消添加字幕"),
            ("Cancelled adjusting normalized voice", "已取消调整标准化音频"),
            ("Cancelled converting to whisper compatible audio", "已取消转换为Whisper兼容音频"),
            ("Cancelled transcribing", "已取消转录"),
            ("Chat model", "聊天模型"),
            ("Choose a media file", "选择媒体文件"),
            ("Choose a model file", "选择模型文件"),
            ("Choose file failed", "选择文件失败"),
            ("Chunk size", "块大小"),
            ("Disabled background", "禁用背景"),
            ("Download Cancelled", "下载已取消"),
            ("Download Failed", "下载失败"),
            ("Download Finished", "下载完成"),
            ("Download ffmpeg and ffprobe", "下载ffmpeg和ffprobe"),
            ("Download model failed", "下载模型失败"),
            ("DownloadCancelled", "下载已取消"),
            ("DownloadFailed", "下载失败"),
            ("DownloadFinished", "下载完成"),
            ("Downloading", "下载中"),
            ("Embedded subtitle", "内嵌字幕"),
            ("Enabled background", "启用背景"),
            ("Expect chunk size", "预期块大小"),
            ("Expect index", "预期索引"),
            ("Export Subtitle", "导出字幕"),
            ("Export Video", "导出视频"),
            ("External subtitle", "外挂字幕"),
            ("Font color", "字体颜色"),
            ("Font name", "字体名称"),
            ("Handle subtitles chunk failed", "处理字幕块失败"),
            ("Import", "导入"),
            ("Import file", "导入文件"),
            ("Insert Above", "在上方插入"),
            ("Insert Below", "在下方插入"),
            ("Insert index", "插入索引"),
            ("Invalid Format", "无效格式"),
            ("InvalidFormat", "无效格式"),
            ("Language", "语言"),
            ("Local", "本地"),
            ("Model", "模型"),
            ("Network", "网络"),
            ("No Found", "未找到"),
            ("No Model", "无模型"),
            ("No found", "未找到"),
            ("No found ffmpeg and ffprobe.", "未找到ffmpeg和ffprobe"),
            ("NoFound", "未找到"),
            ("Only support OpenAI compatible API", "仅支持OpenAI兼容API"),
            ("Please configure model setting firstly", "请先配置模型设置"),
            ("Prompt", "提示词"),
            ("Remove", "移除"),
            ("Remove all corrections or not?", "是否移除所有校正？"),
            ("Remove all subtitles or not?", "是否移除所有字幕？"),
            ("Remove all translations or not?", "是否移除所有翻译？"),
            ("Remove entry failed", "移除条目失败"),
            ("Remove entry successfully", "移除条目成功"),
            ("Remove model or not?", "是否移除模型？"),
            ("Remove subtitle or not?", "是否移除字幕？"),
            ("Rename", "重命名"),
            ("Rename entry successfully", "重命名条目成功"),
            ("Replace", "替换"),
            ("Replaced text", "已替换文本"),
            ("Save Model", "保存模型"),
            ("Select File", "选择文件"),
            ("Standardize the volume and adjust it to", "标准化音量并调整至"),
            ("Start transcribe", "开始转录"),
            ("Subtitle Setting", "字幕设置"),
            ("Support video and audio files", "支持视频和音频文件"),
            ("Target text", "目标文本"),
            ("Total", "总计"),
            ("Transcribe Setting", "转录设置"),
            ("Unknown", "未知"),
            ("Unsupport whisper language", "不支持的Whisper语言"),
            ("Update entry failed", "更新条目失败"),
            ("Video", "视频"),
            ("accept", "接受"),
            ("accept all subtitles successfully", "成功接受所有字幕"),
            ("accept correction", "接受校正"),
            ("adding subtitle", "正在添加字幕"),
            ("adjusting volume", "正在调整音量"),
            ("ai correction", "AI校正"),
            ("ai translation", "AI翻译"),
            ("black", "黑色"),
            ("can't paree filename", "无法解析文件名"),
            ("cancel", "取消"),
            ("click and edit", "点击编辑"),
            ("confirm", "确认"),
            ("converting to aduio", "正在转换为音频"),
            ("correcting", "正在校正"),
            ("detect media file failed!", "检测媒体文件失败！"),
            ("download", "下载"),
            ("edit", "编辑"),
            ("export subtitle", "导出字幕"),
            ("export video", "导出视频"),
            ("finished adding subtitle", "已完成添加字幕"),
            ("finished adjusting video voice", "已完成调整视频音频"),
            ("finished converting to aduio", "已完成转换为音频"),
            ("finished correcting", "已完成校正"),
            ("finished handling partial subtitles", "已完成处理部分字幕"),
            ("finished transcription", "已完成转录"),
            ("finished translating", "已完成翻译"),
            ("get video metadata failed", "获取视频元数据失败"),
            ("import", "导入"),
            ("insert entry failed", "插入条目失败"),
            ("is not a media file", "不是媒体文件"),
            ("manual download", "手动下载"),
            ("model", "模型"),
            ("new", "新建"),
            ("play", "播放"),
            ("play aduio file fialed", "播放音频文件失败"),
            ("play video frames failed", "播放视频帧失败"),
            ("redownload", "重新下载"),
            ("reject", "拒绝"),
            ("remove", "移除"),
            ("remove all correction successfully", "成功移除所有校正"),
            ("remove all subtitles successfully", "成功移除所有字幕"),
            ("remove correction", "移除校正"),
            ("remove model successfully", "成功移除模型"),
            ("remove separator", "移除分隔符"),
            ("remove subtitle", "移除字幕"),
            ("remove subtitle successfully", "成功移除字幕"),
            ("remove subtitles successfully", "成功移除字幕"),
            ("remove translation", "移除翻译"),
            ("replace content of subtitles successfully", "成功替换字幕内容"),
            ("replace separators of subtitles successfully", "成功替换字幕分隔符"),
            ("replace text", "替换文本"),
            ("save configuration successfully", "成功保存配置"),
            ("save subtitle failed.", "保存字幕失败"),
            ("save subtitle successfully", "成功保存字幕"),
            ("swap original and translation", "交换原文和译文"),
            ("swap original and translation successfully", "成功交换原文和译文"),
            ("times", "倍"),
            ("traditional to simple chinese", "繁体转简体中文"),
            ("transcribe", "转录"),
            ("transcribing", "正在转录"),
            ("translating", "正在翻译"),
            ("white", "白色"),
            ("expect", "预期"),
            ("finished optimizing timestamp", "已完成优化时间戳"),
            ("found", "找到"),
            ("invalid timestamp", "无效时间戳"),
            ("no found", "未找到"),
            ("optimize timestamp", "优化时间戳"),
            ("optimize timestamps failed", "优化时间戳失败"),
            ("optimize timestamps failed.", "优化时间戳失败。"),
            ("optimizing timestamp", "正在优化时间戳"),
            ("adjust overlap timestamp", "调整重叠时间戳"),
            ("partially finished", "部分完成"),
            ("recover timestamp", "恢复时间戳"),
            ("Please download or import models", "请下载或导入模型"),
            ("Merge Above", "向上合并"),
            ("Split", "分割"),
            ("Refresh successfully", "刷新成功"),
            ("refresh", "刷新"),
            ("split subtitle failed", "分割字幕失败"),
            ("Shift Timestamps (ms)", "平移时间戳（毫秒）"),
            ("Shift timestamp", "平移时间戳"),
            ("lowercase", "转成小写"),
        ])
    })
}
